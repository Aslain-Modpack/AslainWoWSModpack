<local:RelhaxCustomFeatureWindow x:Class="RelhaxModpack.Windows.DatabaseAutomationRunner"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RelhaxModpack.Windows"
        mc:Ignorable="d"
        Title="Database Automation Runner" Height="500" Width="1000" MinHeight="480" MinWidth="800"
        Closed="RelhaxWindow_Closed" Loaded="RelhaxWindow_Loaded"
        LocalizeWindow="False" ApplyToolTips="False" ApplyColorSettings="False" EscapeKeyClosesWindow="False"
        ApplyScaling="True" ApplyCustomFont="True">
    <Grid>
        <TabControl x:Name="MainTabView" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="0" Grid.Row="0" SelectionChanged="MainTabView_SelectionChanged">
            <TabItem x:Name="TabItemRunSequences" Header="Run Sequences">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="80"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="15"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="23"/>
                    </Grid.RowDefinitions>
                    <TextBlock x:Name="SequencesAvailableTextBlock" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="NoWrap" Grid.Column="0" Grid.Row="0" Text="Sequences available from server"/>
                    <TextBlock x:Name="SequencesToRunTextBlock" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="NoWrap" Grid.Column="2" Grid.Row="0" Text="Sequences selected to run"/>
                    <ListBox x:Name="SequencesAvailableListBox" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="0" Grid.Row="1" ScrollViewer.CanContentScroll="True"
                             ScrollViewer.VerticalScrollBarVisibility="Visible" ScrollViewer.HorizontalScrollBarVisibility="Auto" SelectionMode="Extended" MouseDoubleClick="SequencesAvailableListBox_MouseDoubleClick"/>
                    <ListBox x:Name="SequencesToRunListBox" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="2" Grid.Row="1" ScrollViewer.CanContentScroll="True"
                             ScrollViewer.VerticalScrollBarVisibility="Visible" ScrollViewer.HorizontalScrollBarVisibility="Auto" SelectionMode="Extended"/>
                    <Button x:Name="MoveSequencesToRunListButton" Content="&gt;&gt;" HorizontalAlignment="Stretch" VerticalAlignment="Center" Width="30" Height="20" Grid.Column="1" Grid.Row="1" Click="MoveSequencesToRunListButton_Click"/>
                    <Button x:Name="MoveUpSelectedSequenceButton" HorizontalAlignment="Stretch" Margin="0,0,0,100" VerticalAlignment="Center" Height="40" Grid.Column="3" Grid.Row="1" Click="MoveUpSelectedSequenceButton_Click">
                        <TextBlock Text="Move up selected" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <Button x:Name="MoveDownSelectedSequenceButton" HorizontalAlignment="Stretch" Margin="0,0,0,0" VerticalAlignment="Center" Height="45" Grid.Column="3" Grid.Row="1" Click="MoveDownSelectedSequenceButton_Click">
                        <TextBlock Text="Move down selected" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <Button x:Name="DeleteSelectedSequenceButton" HorizontalAlignment="Stretch" Margin="0,100,0,0" VerticalAlignment="Center" Height="40" Grid.Column="3" Grid.Row="1" Click="DeleteSelectedSequenceButton_Click">
                        <TextBlock Text="Delete selected" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <Button x:Name="ReloadSequencesButton" HorizontalAlignment="Right" Margin="0,3,269,0" VerticalAlignment="Stretch" Width="110" Grid.Row="2" Grid.Column="2" Click="ReloadSequencesButton_Click">
                        <TextBlock Text="Reload Sequences"/>
                    </Button>
                    <Button x:Name="OpenLogfileViewerButton" HorizontalAlignment="Right" Margin="0,3,234,0" VerticalAlignment="Stretch" Width="110" Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Click="OpenLogfileViewerButton_Click">
                        <TextBlock Text="Open logfile viewer"/>
                    </Button>
                    <Button x:Name="OpenHtmlPathSelectorButton" HorizontalAlignment="Right" Margin="0,3,90,0" VerticalAlignment="Stretch" Width="139" Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Click="OpenHtmlPathSelectorButton_Click">
                        <TextBlock Text="Open HtmlPath Selector"/>
                    </Button>
                    <Button x:Name="RunSequencesButton" HorizontalAlignment="Right" Margin="0,3,10,0" VerticalAlignment="Stretch" Width="75" Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Click="RunSequencesButton_Click">
                        <TextBlock Text="Run" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <ProgressBar x:Name="AutomationTaskProgressBar" HorizontalAlignment="Stretch" Margin="0" Grid.Row="2" Grid.Column="0" VerticalAlignment="Stretch" Visibility="Hidden" />
                    <TextBlock x:Name="AutomationTaskProgressTextBlock" HorizontalAlignment="Stretch" Margin="0" Grid.Row="2" Grid.Column="0" VerticalAlignment="Stretch" Visibility="Hidden" Text="Test" TextAlignment="Center"/>
                </Grid>
            </TabItem>
            <TabItem x:Name="TabItemSettings" Header="Settings">
                <Grid Background="#FFE5E5E5">
                    <Grid Background="#FFE5E5E5" Margin="0,0,0,20" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <!-- Bigmods user/pass -->
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <!-- Checkboxes -->
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                            <!-- Package db save/load -->
                            <RowDefinition Height="40"/>
                            <!-- Automation repo branch selection -->
                            <RowDefinition Height="40"/>
                            <!-- Use local automation repo on disk -->
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="20"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="BigmodsUsernameTextBox" HorizontalAlignment="Stretch" TextWrapping="Wrap" Text="Bigmods Username" VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"
                                       ToolTip="Enter your FTP account user name to be able to run package upload/download tasks"/>
                        <TextBox x:Name="BigmodsUsernameSetting" HorizontalAlignment="Stretch" TextWrapping="Wrap" VerticalAlignment="Center" Grid.Column="1" Grid.Row="0" TextChanged="BigmodsUsernameSetting_TextChanged" Margin="2,0,0,0"/>
                        <TextBlock x:Name="BigmodsPasswordTextBox" HorizontalAlignment="Stretch" TextWrapping="Wrap" Text="Bigmods Password" VerticalAlignment="Center" Grid.Column="0" Grid.Row="1"
                                       ToolTip="Enter your FTP account password to be able to run package upload/download tasks"/>
                        <TextBox x:Name="BigmodsPasswordSetting" HorizontalAlignment="Stretch" TextWrapping="Wrap" VerticalAlignment="Center" Grid.Column="1" Grid.Row="1" TextChanged="BigmodsPasswordSetting_TextChanged" Margin="2,0,0,0"/>
                        <CheckBox x:Name="OpenLogWindowOnStartupSetting" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="1" Grid.Row="2" Content="Open log window on startup" Margin="2,0,0,0"
                                      Click="OpenLogWindowOnStartupSetting_Click" ToolTip="When checked, the log window will start when you launch the application in this mode"/>
                        <CheckBox x:Name="DumpParsedMacrosPerSequenceRunSetting" Grid.Column="1" HorizontalAlignment="Left"  Grid.Row="3" VerticalAlignment="Center" Content="Dump parsed macros for each sequence during run" Margin="2,0,0,0"
                                      Click="DumpParsedMacrosPerSequenceRunSetting_Click" ToolTip="When checked, the list of macros will be dumped to the logfile at the start of each sequence"/>
                        <CheckBox x:Name="DumpEnvironmentVariablesAtSequenceStartSetting" Grid.Column="1" HorizontalAlignment="Left"  Grid.Row="4" VerticalAlignment="Center" Content="Dump environment variables at the start of the sequencer" Margin="2,0,0,0"
                                      Click="DumpEnvironmentVariablesAtSequenceStartSetting_Click" ToolTip="When checked, the list of system environment variables will be dumped to the logfile at the start of the sequencer"/>
                        <CheckBox x:Name="SequenceDebugModeSetting" Grid.Column="1" HorizontalAlignment="Left" Grid.Row="5" VerticalAlignment="Center" Content="Enable sequence debugging / task stepping" Margin="2,0,0,0"
                                      Click="SequenceDebugModeSetting_Click" ToolTip="When enabled, you can step through each task in a sequence by clicking on a continue button in the window"/>
                        <Button x:Name="SelectDBSaveLocationButton" HorizontalAlignment="Stretch" Grid.Row="6" VerticalAlignment="Center" Click="SelectDBSaveLocationButton_Click"
                                    ToolTip="Select the location to use for loading and saving the database for automation runs. This path *must* go to the root database xml file!">
                            <TextBlock Text="Package database load/save root xml" TextWrapping="Wrap"/>
                        </Button>
                        <TextBox x:Name="SelectDBSaveLocationSetting" Grid.Column="1" HorizontalAlignment="Stretch" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Center" TextChanged="SelectDBSaveLocationSetting_TextChanged" Margin="2,0,0,0"/>
                        <TextBlock x:Name="AutomamtionDatabaseSelectedBranchTextBox" HorizontalAlignment="Stretch" TextWrapping="Wrap" Text="Automation repository selected branch" VerticalAlignment="Center" Grid.Column="0" Grid.Row="7" TextAlignment="Left"
                                       ToolTip="Enter the target branch to use for the automation repo. If 'Use local repo database on disk' is checked, this setting has no effect. The default is 'master'."/>
                        <TextBox x:Name="AutomamtionDatabaseSelectedBranchSetting" Grid.Column="1" HorizontalAlignment="Stretch" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Center" TextChanged="AutomamtionDatabaseSelectedBranchSetting_TextChanged" Margin="2,0,0,0"/>
                        <CheckBox x:Name="UseLocalRunnerDatabaseSetting" Grid.Column="1" HorizontalAlignment="Left"  Grid.Row="8" VerticalAlignment="Center" Content="Use local automation repository on disk" Margin="2,0,0,0"
                                      Click="UseLocalRunnerDatabaseSetting_Click" ToolTip="Toggle using a local copy of the automation sequence repo, or the server version"/>
                        <Button x:Name="LocalRunnerDatabaseRootButton" HorizontalAlignment="Stretch" Grid.Row="9" VerticalAlignment="Center" Click="SelectLocalRunnerDatabaseRootButton_Click"
                                    ToolTip="Select the location to use for loading the local copy of the automation repo on disk. This path *must* go to the root database xml file!">
                            <TextBlock Text="Automation database root xml" TextWrapping="Wrap"/>
                        </Button>
                        <TextBox x:Name="LocalRunnerDatabaseRootSetting" Grid.Column="1" HorizontalAlignment="Stretch" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Center" TextChanged="LocalRunnerDatabaseRootSetting_TextChanged" Margin="2,0,0,0"/>
                    </Grid>
                    <Button x:Name="SaveSettingsButton" HorizontalAlignment="Right" VerticalAlignment="Bottom" Click="SaveSettingsButton_Click">
                        <TextBlock Text="Save Settings"/>
                    </Button>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</local:RelhaxCustomFeatureWindow>
